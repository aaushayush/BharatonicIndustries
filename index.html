<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bharatonic Industries - Worker Management Platform</title>
    <meta name="description" content="Complete workforce management solution for construction workers, contractors, and sites">
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üèóÔ∏è</text></svg>">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap');
        body { font-family: 'Inter', sans-serif; }
        .animate-pulse { animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: .5; } }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Simple localStorage wrapper for data persistence
        const storage = {
            get: (key) => {
                try {
                    const data = localStorage.getItem(key);
                    return data ? JSON.parse(data) : null;
                } catch {
                    return null;
                }
            },
            set: (key, value) => {
                try {
                    localStorage.setItem(key, JSON.stringify(value));
                    return true;
                } catch {
                    return false;
                }
            }
        };

        const BharatonicPlatform = () => {
            const [activeModule, setActiveModule] = useState('dashboard');
            const [workers, setWorkers] = useState([]);
            const [contractors, setContractors] = useState([]);
            const [sites, setSites] = useState([]);
            const [supervisors, setSupervisors] = useState([]);
            const [notification, setNotification] = useState({ show: false, msg: '' });

            useEffect(() => {
                setWorkers(storage.get('workers') || []);
                setContractors(storage.get('contractors') || []);
                setSites(storage.get('sites') || []);
                setSupervisors(storage.get('supervisors') || []);
            }, []);

            const showNotif = (msg) => {
                setNotification({ show: true, msg });
                setTimeout(() => setNotification({ show: false, msg: '' }), 3000);
            };

            const addWorker = (worker) => {
                const newWorker = { ...worker, id: `W-${Date.now()}`, createdAt: new Date().toISOString() };
                const updated = [...workers, newWorker];
                setWorkers(updated);
                storage.set('workers', updated);
                showNotif('Worker added successfully!');
            };

            const addContractor = (contractor) => {
                const newContractor = { ...contractor, id: `C-${Date.now()}`, createdAt: new Date().toISOString() };
                const updated = [...contractors, newContractor];
                setContractors(updated);
                storage.set('contractors', updated);
                showNotif('Contractor added successfully!');
            };

            const addSite = (site) => {
                const newSite = { ...site, id: `S-${Date.now()}`, createdAt: new Date().toISOString() };
                const updated = [...sites, newSite];
                setSites(updated);
                storage.set('sites', updated);
                showNotif('Site added successfully!');
            };

            const addSupervisor = (supervisor) => {
                const newSup = { ...supervisor, id: `SUP-${Date.now()}`, createdAt: new Date().toISOString() };
                const updated = [...supervisors, newSup];
                setSupervisors(updated);
                storage.set('supervisors', updated);
                showNotif('Supervisor added successfully!');
            };

            const modules = [
                { id: 'dashboard', name: 'üìä Dashboard' },
                { id: 'workers', name: 'üë∑ Workers' },
                { id: 'contractors', name: 'üè¢ Contractors' },
                { id: 'supervisors', name: 'üë®‚Äçüíº Supervisors' },
                { id: 'sites', name: 'üèóÔ∏è Sites' }
            ];

            return (
                <div className="flex h-screen bg-gray-50">
                    {notification.show && (
                        <div className="fixed top-4 right-4 z-50 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg animate-pulse">
                            ‚úÖ {notification.msg}
                        </div>
                    )}

                    <div className="w-64 bg-gradient-to-b from-gray-900 to-gray-800 text-white">
                        <div className="p-6">
                            <h1 className="text-2xl font-bold text-yellow-400">BHARATONIC</h1>
                            <p className="text-xs text-gray-400 mt-1">Industries Pvt. Ltd.</p>
                        </div>
                        
                        <div className="px-3 space-y-1">
                            {modules.map(module => (
                                <button
                                    key={module.id}
                                    onClick={() => setActiveModule(module.id)}
                                    className={`w-full text-left px-4 py-3 rounded-lg transition-all ${
                                        activeModule === module.id ? 'bg-white text-gray-900' : 'hover:bg-gray-700'
                                    }`}
                                >
                                    {module.name}
                                </button>
                            ))}
                        </div>
                    </div>

                    <div className="flex-1 flex flex-col overflow-hidden">
                        <div className="bg-white border-b px-6 py-4">
                            <div className="flex items-center justify-between">
                                <h2 className="text-xl font-bold">bharatonicindustries.com</h2>
                                <div className="text-right">
                                    <p className="text-sm font-semibold">Admin Panel</p>
                                    <p className="text-xs text-gray-500">Super Admin</p>
                                </div>
                            </div>
                        </div>

                        <div className="flex-1 overflow-y-auto p-6">
                            {activeModule === 'dashboard' && <Dashboard workers={workers} contractors={contractors} sites={sites} />}
                            {activeModule === 'workers' && <WorkerManagement workers={workers} onAddWorker={addWorker} />}
                            {activeModule === 'contractors' && <ContractorManagement contractors={contractors} onAddContractor={addContractor} />}
                            {activeModule === 'supervisors' && <SupervisorManagement supervisors={supervisors} onAddSupervisor={addSupervisor} />}
                            {activeModule === 'sites' && <SiteManagement sites={sites} onAddSite={addSite} contractors={contractors} />}
                        </div>
                    </div>
                </div>
            );
        };

        const Dashboard = ({ workers, contractors, sites }) => (
            <div className="space-y-6">
                <h2 className="text-3xl font-bold">Dashboard</h2>
                <div className="grid grid-cols-4 gap-6">
                    {[
                        { label: 'Workers', value: workers.length, icon: 'üë∑', color: 'blue' },
                        { label: 'Contractors', value: contractors.length, icon: 'üè¢', color: 'purple' },
                        { label: 'Sites', value: sites.length, icon: 'üèóÔ∏è', color: 'green' },
                        { label: 'Status', value: 'Online', icon: '‚úÖ', color: 'yellow' }
                    ].map((stat, i) => (
                        <div key={i} className="bg-white rounded-xl shadow p-6">
                            <div className="text-4xl mb-3">{stat.icon}</div>
                            <p className="text-gray-600 text-sm">{stat.label}</p>
                            <p className="text-3xl font-bold mt-2">{stat.value}</p>
                        </div>
                    ))}
                </div>
                <div className="bg-gradient-to-r from-blue-500 to-purple-500 rounded-xl p-6 text-white">
                    <h3 className="text-xl font-bold mb-4">System Overview</h3>
                    <div className="grid grid-cols-3 gap-4">
                        <div className="bg-white bg-opacity-20 rounded-lg p-4">
                            <p className="text-sm">Total Workers</p>
                            <p className="text-3xl font-bold">{workers.length}</p>
                        </div>
                        <div className="bg-white bg-opacity-20 rounded-lg p-4">
                            <p className="text-sm">Active Sites</p>
                            <p className="text-3xl font-bold">{sites.length}</p>
                        </div>
                        <div className="bg-white bg-opacity-20 rounded-lg p-4">
                            <p className="text-sm">Contractors</p>
                            <p className="text-3xl font-bold">{contractors.length}</p>
                        </div>
                    </div>
                </div>
            </div>
        );

        const WorkerManagement = ({ workers, onAddWorker }) => {
            const [showForm, setShowForm] = useState(false);
            const [form, setForm] = useState({ name: '', phone: '', email: '', skill: 'Mason', address: '' });

            const handleSubmit = (e) => {
                e.preventDefault();
                onAddWorker({ ...form, status: 'Active' });
                setForm({ name: '', phone: '', email: '', skill: 'Mason', address: '' });
                setShowForm(false);
            };

            return (
                <div className="space-y-6">
                    <div className="flex justify-between items-center">
                        <h2 className="text-3xl font-bold">Worker Management</h2>
                        <button onClick={() => setShowForm(true)} className="bg-green-500 text-white px-6 py-3 rounded-lg hover:bg-green-600">
                            + Add Worker
                        </button>
                    </div>

                    {showForm && (
                        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
                            <div className="bg-white rounded-xl p-8 max-w-2xl w-full">
                                <h3 className="text-2xl font-bold mb-6">Add New Worker</h3>
                                <form onSubmit={handleSubmit} className="space-y-4">
                                    <input type="text" required value={form.name} onChange={(e) => setForm({...form, name: e.target.value})} 
                                        placeholder="Full Name" className="w-full px-4 py-2 border rounded-lg" />
                                    <div className="grid grid-cols-2 gap-4">
                                        <input type="tel" required value={form.phone} onChange={(e) => setForm({...form, phone: e.target.value})} 
                                            placeholder="Phone" className="w-full px-4 py-2 border rounded-lg" />
                                        <input type="email" value={form.email} onChange={(e) => setForm({...form, email: e.target.value})} 
                                            placeholder="Email" className="w-full px-4 py-2 border rounded-lg" />
                                    </div>
                                    <select value={form.skill} onChange={(e) => setForm({...form, skill: e.target.value})} 
                                        className="w-full px-4 py-2 border rounded-lg">
                                        <option>Mason</option>
                                        <option>Electrician</option>
                                        <option>Plumber</option>
                                        <option>Painter</option>
                                        <option>Carpenter</option>
                                    </select>
                                    <textarea required value={form.address} onChange={(e) => setForm({...form, address: e.target.value})} 
                                        placeholder="Address" className="w-full px-4 py-2 border rounded-lg" rows="3"></textarea>
                                    <div className="flex space-x-3">
                                        <button type="submit" className="flex-1 bg-green-500 text-white py-3 rounded-lg">Add</button>
                                        <button type="button" onClick={() => setShowForm(false)} className="flex-1 bg-gray-200 py-3 rounded-lg">Cancel</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    )}

                    {workers.length === 0 ? (
                        <div className="bg-white rounded-xl shadow p-12 text-center">
                            <div className="text-6xl mb-4">üë∑</div>
                            <h3 className="text-xl font-bold mb-2">No Workers Yet</h3>
                            <button onClick={() => setShowForm(true)} className="bg-green-500 text-white px-6 py-3 rounded-lg mt-4">
                                Add First Worker
                            </button>
                        </div>
                    ) : (
                        <div className="bg-white rounded-xl shadow overflow-hidden">
                            <table className="w-full">
                                <thead className="bg-gray-50">
                                    <tr>
                                        <th className="text-left px-6 py-4">ID</th>
                                        <th className="text-left px-6 py-4">Name</th>
                                        <th className="text-left px-6 py-4">Phone</th>
                                        <th className="text-left px-6 py-4">Skill</th>
                                        <th className="text-left px-6 py-4">Status</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {workers.map(w => (
                                        <tr key={w.id} className="border-b hover:bg-gray-50">
                                            <td className="px-6 py-4 font-medium">{w.id}</td>
                                            <td className="px-6 py-4">{w.name}</td>
                                            <td className="px-6 py-4">{w.phone}</td>
                                            <td className="px-6 py-4">{w.skill}</td>
                                            <td className="px-6 py-4"><span className="px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs">{w.status}</span></td>
                                        </tr>
                                    ))}
                                </tbody>
                            </table>
                        </div>
                    )}
                </div>
            );
        };

        const ContractorManagement = ({ contractors, onAddContractor }) => {
            const [showForm, setShowForm] = useState(false);
            const [form, setForm] = useState({ companyName: '', contactPerson: '', phone: '', email: '', address: '' });

            const handleSubmit = (e) => {
                e.preventDefault();
                onAddContractor(form);
                setForm({ companyName: '', contactPerson: '', phone: '', email: '', address: '' });
                setShowForm(false);
            };

            return (
                <div className="space-y-6">
                    <div className="flex justify-between items-center">
                        <h2 className="text-3xl font-bold">Contractor Management</h2>
                        <button onClick={() => setShowForm(true)} className="bg-purple-500 text-white px-6 py-3 rounded-lg">
                            + Add Contractor
                        </button>
                    </div>

                    {showForm && (
                        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
                            <div className="bg-white rounded-xl p-8 max-w-2xl w-full">
                                <h3 className="text-2xl font-bold mb-6">Add Contractor</h3>
                                <form onSubmit={handleSubmit} className="space-y-4">
                                    <input type="text" required value={form.companyName} onChange={(e) => setForm({...form, companyName: e.target.value})} 
                                        placeholder="Company Name" className="w-full px-4 py-2 border rounded-lg" />
                                    <div className="grid grid-cols-2 gap-4">
                                        <input type="text" required value={form.contactPerson} onChange={(e) => setForm({...form, contactPerson: e.target.value})} 
                                            placeholder="Contact Person" className="w-full px-4 py-2 border rounded-lg" />
                                        <input type="tel" required value={form.phone} onChange={(e) => setForm({...form, phone: e.target.value})} 
                                            placeholder="Phone" className="w-full px-4 py-2 border rounded-lg" />
                                    </div>
                                    <input type="email" required value={form.email} onChange={(e) => setForm({...form, email: e.target.value})} 
                                        placeholder="Email" className="w-full px-4 py-2 border rounded-lg" />
                                    <textarea required value={form.address} onChange={(e) => setForm({...form, address: e.target.value})} 
                                        placeholder="Address" className="w-full px-4 py-2 border rounded-lg" rows="3"></textarea>
                                    <div className="flex space-x-3">
                                        <button type="submit" className="flex-1 bg-purple-500 text-white py-3 rounded-lg">Add</button>
                                        <button type="button" onClick={() => setShowForm(false)} className="flex-1 bg-gray-200 py-3 rounded-lg">Cancel</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    )}

                    {contractors.length === 0 ? (
                        <div className="bg-white rounded-xl shadow p-12 text-center">
                            <div className="text-6xl mb-4">üè¢</div>
                            <h3 className="text-xl font-bold mb-2">No Contractors Yet</h3>
                            <button onClick={() => setShowForm(true)} className="bg-purple-500 text-white px-6 py-3 rounded-lg mt-4">
                                Add First Contractor
                            </button>
                        </div>
                    ) : (
                        <div className="space-y-4">
                            {contractors.map(c => (
                                <div key={c.id} className="bg-white rounded-xl shadow p-6">
                                    <h3 className="text-xl font-bold mb-3">{c.companyName}</h3>
                                    <div className="grid grid-cols-3 gap-4 text-sm">
                                        <div><span className="text-gray-500">Contact:</span> {c.contactPerson}</div>
                                        <div><span className="text-gray-500">Phone:</span> {c.phone}</div>
                                        <div><span className="text-gray-500">Email:</span> {c.email}</div>
                                    </div>
                                </div>
                            ))}
                        </div>
                    )}
                </div>
            );
        };

        const SupervisorManagement = ({ supervisors, onAddSupervisor }) => {
            const [showForm, setShowForm] = useState(false);
            const [form, setForm] = useState({ name: '', phone: '', email: '', experience: '' });

            const handleSubmit = (e) => {
                e.preventDefault();
                onAddSupervisor(form);
                setForm({ name: '', phone: '', email: '', experience: '' });
                setShowForm(false);
            };

            return (
                <div className="space-y-6">
                    <div className="flex justify-between items-center">
                        <h2 className="text-3xl font-bold">Supervisor Management</h2>
                        <button onClick={() => setShowForm(true)} className="bg-orange-500 text-white px-6 py-3 rounded-lg">
                            + Add Supervisor
                        </button>
                    </div>

                    {showForm && (
                        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
                            <div className="bg-white rounded-xl p-8 max-w-lg w-full">
                                <h3 className="text-2xl font-bold mb-6">Add Supervisor</h3>
                                <form onSubmit={handleSubmit} className="space-y-4">
                                    <input type="text" required value={form.name} onChange={(e) => setForm({...form, name: e.target.value})} 
                                        placeholder="Name" className="w-full px-4 py-2 border rounded-lg" />
                                    <input type="tel" required value={form.phone} onChange={(e) => setForm({...form, phone: e.target.value})} 
                                        placeholder="Phone" className="w-full px-4 py-2 border rounded-lg" />
                                    <input type="email" value={form.email} onChange={(e) => setForm({...form, email: e.target.value})} 
                                        placeholder="Email" className="w-full px-4 py-2 border rounded-lg" />
                                    <input type="number" value={form.experience} onChange={(e) => setForm({...form, experience: e.target.value})} 
                                        placeholder="Experience (years)" className="w-full px-4 py-2 border rounded-lg" />
                                    <div className="flex space-x-3">
                                        <button type="submit" className="flex-1 bg-orange-500 text-white py-3 rounded-lg">Add</button>
                                        <button type="button" onClick={() => setShowForm(false)} className="flex-1 bg-gray-200 py-3 rounded-lg">Cancel</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    )}

                    {supervisors.length === 0 ? (
                        <div className="bg-white rounded-xl shadow p-12 text-center">
                            <div className="text-6xl mb-4">üë®‚Äçüíº</div>
                            <h3 className="text-xl font-bold mb-2">No Supervisors Yet</h3>
                            <button onClick={() => setShowForm(true)} className="bg-orange-500 text-white px-6 py-3 rounded-lg mt-4">
                                Add First Supervisor
                            </button>
                        </div>
                    ) : (
                        <div className="grid grid-cols-3 gap-4">
                            {supervisors.map(s => (
                                <div key={s.id} className="bg-white rounded-xl shadow p-6">
                                    <h3 className="font-bold text-lg">{s.name}</h3>
                                    <p className="text-sm text-gray-600 mt-2">{s.phone}</p>
                                    <p className="text-sm text-gray-600">{s.email}</p>
                                    <p className="text-sm text-gray-600 mt-2">{s.experience} years</p>
                                </div>
                            ))}
                        </div>
                    )}
                </div>
            );
        };

        const SiteManagement = ({ sites, onAddSite, contractors }) => {
            const [showForm, setShowForm] = useState(false);
            const [form, setForm] = useState({ name: '', location: '', contractorId: '', budget: '' });

            const handleSubmit = (e) => {
                e.preventDefault();
                onAddSite({ ...form, status: 'Active', progress: 0 });
                setForm({ name: '', location: '', contractorId: '', budget: '' });
                setShowForm(false);
            };

            return (
                <div className="space-y-6">
                    <div className="flex justify-between items-center">
                        <h2 className="text-3xl font-bold">Site Management</h2>
                        <button onClick={() => setShowForm(true)} className="bg-blue-500 text-white px-6 py-3 rounded-lg">
                            + Add Site
                        </button>
                    </div>

                    {showForm && (
                        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
                            <div className="bg-white rounded-xl p-8 max-w-2xl w-full">
                                <h3 className="text-2xl font-bold mb-6">Add New Site</h3>
                                <form onSubmit={handleSubmit} className="space-y-4">
                                    <input type="text" required value={form.name} onChange={(e) => setForm({...form, name: e.target.value})} 
                                        placeholder="Site Name" className="w-full px-4 py-2 border rounded-lg" />
                                    <input type="text" required value={form.location} onChange={(e) => setForm({...form, location: e.target.value})} 
                                        placeholder="Location" className="w-full px-4 py-2 border rounded-lg" />
                                    <select value={form.contractorId} onChange={(e) => setForm({...form, contractorId: e.target.value})} 
                                        className="w-full px-4 py-2 border rounded-lg">
                                        <option value="">Select Contractor</option>
                                        {contractors.map(c => <option key={c.id} value={c.id}>{c.companyName}</option>)}
                                    </select>
                                    <input type="number" value={form.budget} onChange={(e) => setForm({...form, budget: e.target.value})} 
                                        placeholder="Budget (‚Çπ)" className="w-full px-4 py-2 border rounded-lg" />
                                    <div className="flex space-x-3">
                                        <button type="submit" className="flex-1 bg-blue-500 text-white py-3 rounded-lg">Add</button>
                                        <button type="button" onClick={() => setShowForm(false)} className="flex-1 bg-gray-200 py-3 rounded-lg">Cancel</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    )}

                    {sites.length === 0 ? (
                        <div className="bg-white rounded-xl shadow p-12 text-center">
                            <div className="text-6xl mb-4">üèóÔ∏è</div>
                            <h3 className="text-xl font-bold mb-2">No Sites Yet</h3>
                            <button onClick={() => setShowForm(true)} className="bg-blue-500 text-white px-6 py-3 rounded-lg mt-4">
                                Add First Site
                            </button>
                        </div>
                    ) : (
                        <div className="space-y-4">
                            {sites.map(site => (
                                <div key={site.id} className="bg-white rounded-xl shadow p-6">
                                    <h3 className="text-xl font-bold mb-2">{site.name}</h3>
                                    <p className="text-sm text-gray-600 mb-4">{site.location}</p>
                                    <div className="grid grid-cols-4 gap-4 text-sm">
                                        <div><span className="text-gray-500">Site ID:</span> {site.id}</div>
                                        <div><span className="text-gray-500">Budget:</span> ‚Çπ{site.budget}</div>
                                        <div><span className="text-gray-500">Progress:</span> {site.progress}%</div>
                                        <div><span className="text-gray-500">Status:</span> 
                                            <span className="ml-2 px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs">{site.status}</span>
                                        </div>
                                    </div>
                                </div>
                            ))}
                        </div>
                    )}
                </div>
            );
        };

        ReactDOM.render(<BharatonicPlatform />, document.getElementById('root'));
    </script>
   
</body>
</html>
